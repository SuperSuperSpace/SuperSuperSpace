---
title: 用C实现菱形输出
date: 2018-05-30 23:09:00
tags: C
---

---

思路：将菱形分为上下部分来处理，然后先输出空格，再输出符号

具体流程如下：
> ### 一、确认菱形上半部分
> 
> 1、先确定菱形上半部分的行数，作为外循环
> 2、内循环，先输出空格
> 3、同上一级内循环，再输出符号
> ### 二、确定菱形下半部分
>
> 1、确定菱形下半部分行数，作为外循环
> 2、内循环，先输出空格
> 3、同上级内循环，再输出符号

下面来分析下代码中关键的几个循环:
首先是菱形上半部
```c
for(i = 1; i <= cnt / 2 + 1; i++)
```
这个循环是控制上半部分的行数，在这里以5行的菱形作为例子（后续亦如此），因此循环中的cnt / 2 + 1等于3，即先对菱形的上面三行进行处理。
<br>
```c
for(j = 1; j <= cnt / 2 + 1 - i; j++)
```
这个循环是用于输出空格数的，先看下5行菱形的输出结果
```c
  *
 *** 
*****
 ***
  *
```
由图可知，上半部分三行的空格分别是2、1、0，这个空格数是由总行数和特定行数控制的
<br>
```c
for(j = 1; j <= 2 * i - 1; j++)
```
这部分的循环用于输出符号，由上图可知符号数是1、3、5，在这里我用了2 * i - 1这个条件来实现这个规律
<br>
菱形下半部分的代码实现采取和菱形上半部分的分析方法，完整代码实现如下：
```c
void func(int cnt, char c)
{
    if(cnt % 2 == 0)
    {
        printf("sorry, it can't be diamond\n");
        return;
    }
    int i, j;
    //菱形上半部分
    for(i = 1; i <= cnt / 2 + 1; i++)
    {
        for(j = 1; j <= cnt / 2 + 1 - i; j++)
            printf(" ");
        for(j = 1; j <= 2 * i - 1; j++)
            printf("%c", c);
        printf("\n");
    }
    //菱形下半部分
    for(i = 1; i <= cnt / 2; i++)
    {
        for(j = 1; j <= i; j++)
            printf(" ");
        for(j = 1; j <= cnt - 2 * i; j++)
            printf("%c", c);
        printf("\n");
    }
}
```

---



